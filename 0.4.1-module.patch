--- origsrc/razorqt-0.4.1/razorqt-desktop/desktop-razor/CMakeLists.txt	2012-02-13 07:51:42.000000000 -0600
+++ src/razorqt-0.4.1/razorqt-desktop/desktop-razor/CMakeLists.txt	2012-08-07 23:52:20.428581300 -0500
@@ -52,7 +52,7 @@ include_directories( ${CMAKE_CURRENT_BIN
 
 add_definitions(-DPLUGIN_DESKTOP_FILES_DIR=\"${CMAKE_INSTALL_PREFIX}/share/razor/razor-desktop\")
 
-add_library(${PROJECT} SHARED ${HEADERS} ${SOURCES} ${MOC_SOURCES} ${QM_FILES} ${QRC_SOURCES} ${UI_SOURCES})
+add_library(${PROJECT} MODULE ${HEADERS} ${SOURCES} ${MOC_SOURCES} ${QM_FILES} ${QRC_SOURCES} ${UI_SOURCES})
 add_dependencies(${PROJECT} razorqt)
 target_link_libraries(${PROJECT} ${QT_QTCORE_LIBRARY} ${QT_QTGUI_LIBRARY} ${X11_X11_LIB} razorqt)
 
--- origsrc/razorqt-0.4.1/razorqt-desktop/desktop-razor/plugin-analogclock/CMakeLists.txt	2012-02-13 07:51:42.000000000 -0600
+++ src/razorqt-0.4.1/razorqt-desktop/desktop-razor/plugin-analogclock/CMakeLists.txt	2012-08-07 23:54:23.528751200 -0500
@@ -47,7 +47,7 @@ qt4_add_resources(QRC_SOURCES ${RESOURCE
 qt4_wrap_ui(FORMS ${AC_UIS})
 qt4_add_translation(QM_FILES ${TS_FILES})
 
-add_library(${PROJECT} SHARED ${HW_HEADERS} ${HW_SOURCES} ${HW_MOC_SOURCES} ${FORMS} ${QM_FILES} ${QRC_SOURCES})
+add_library(${PROJECT} MODULE ${HW_HEADERS} ${HW_SOURCES} ${HW_MOC_SOURCES} ${FORMS} ${QM_FILES} ${QRC_SOURCES})
 add_dependencies(${PROJECT} razorqt)
 target_link_libraries(${PROJECT} ${QT_QTCORE_LIBRARY} ${QT_QTGUI_LIBRARY} )
 
--- origsrc/razorqt-0.4.1/razorqt-desktop/desktop-razor/plugin-helloworld/CMakeLists.txt	2012-02-13 07:51:42.000000000 -0600
+++ src/razorqt-0.4.1/razorqt-desktop/desktop-razor/plugin-helloworld/CMakeLists.txt	2012-08-07 23:53:12.148652600 -0500
@@ -30,7 +30,7 @@ qt4_wrap_cpp(HW_MOC_SOURCES ${HW_MOCS})
 qt4_add_resources(QRC_SOURCES ${RESOURCES})
 qt4_add_translation(QM_FILES ${TS_FILES})
 
-add_library(${PROJECT} SHARED ${HW_HEADERS} ${HW_SOURCES} ${HW_MOC_SOURCES} ${QM_FILES} ${QRC_SOURCES})
+add_library(${PROJECT} MODULE ${HW_HEADERS} ${HW_SOURCES} ${HW_MOC_SOURCES} ${QM_FILES} ${QRC_SOURCES})
 target_link_libraries(${PROJECT} ${QT_QTCORE_LIBRARY} ${QT_QTGUI_LIBRARY} )
 add_dependencies(${PROJECT} razorqt)
 
--- origsrc/razorqt-0.4.1/razorqt-desktop/desktop-razor/plugin-iconview/CMakeLists.txt	2012-02-13 07:51:42.000000000 -0600
+++ src/razorqt-0.4.1/razorqt-desktop/desktop-razor/plugin-iconview/CMakeLists.txt	2012-08-07 23:54:02.748722500 -0500
@@ -38,7 +38,7 @@ qt4_add_translation(QM_FILES ${TS_FILES}
 
 add_library(${PROJECT} MODULE ${IV_HEADERS} ${IV_SOURCES} ${IV_MOC_SOURCES} ${QM_FILES} ${QRC_SOURCES})
 add_dependencies(${PROJECT} razorqt)
-target_link_libraries(${PROJECT} ${QT_QTCORE_LIBRARY} ${QT_QTGUI_LIBRARY} )
+target_link_libraries(${PROJECT} ${QT_QTCORE_LIBRARY} ${QT_QTGUI_LIBRARY} razorqt)
 
 install(TARGETS ${PROJECT} DESTINATION ${DESKTOP_PLUGIN_DIR})
 install(DIRECTORY resources/ DESTINATION share/razor/razor-desktop/ PATTERN ".svn" EXCLUDE)
--- origsrc/razorqt-0.4.1/razorqt-desktop/desktop-wm_native/CMakeLists.txt	2012-02-13 07:51:42.000000000 -0600
+++ src/razorqt-0.4.1/razorqt-desktop/desktop-wm_native/CMakeLists.txt	2012-08-07 23:52:35.908602600 -0500
@@ -41,7 +41,7 @@ qt4_wrap_cpp(MOC_SOURCES ${MOCS})
 qt4_add_resources(QRC_SOURCES ${RESOURCES})
 qt4_add_translation(QM_FILES ${TS_FILES})
 
-add_library(${PROJECT} SHARED ${HEADERS} ${SOURCES} ${MOC_SOURCES} ${QM_FILES} ${QRC_SOURCES})
+add_library(${PROJECT} MODULE ${HEADERS} ${SOURCES} ${MOC_SOURCES} ${QM_FILES} ${QRC_SOURCES})
 add_dependencies(${PROJECT} razorqt)
 target_link_libraries(${PROJECT} ${QT_QTCORE_LIBRARY} ${QT_QTGUI_LIBRARY} ${X11_X11_LIB} razorqt)
 
--- origsrc/razorqt-0.4.1/razorqt-panel/BuildPlugin.cmake	2012-02-13 07:51:42.000000000 -0600
+++ src/razorqt-0.4.1/razorqt-panel/BuildPlugin.cmake	2012-08-07 23:54:59.598800900 -0500
@@ -29,7 +29,7 @@ MACRO (BUILD_RAZOR_PLUGIN Name)
     qt4_wrap_ui(UI_SOURCES ${UIS})
 
     add_library(${Name} MODULE ${HEADERS} ${SOURCES} ${MOC_SOURCES} ${QM_FILES} ${QRC_SOURCES} ${UIS})
-    target_link_libraries(${Name} ${QT_QTCORE_LIBRARY} ${QT_QTGUI_LIBRARY} ${LIBRARIES})
+    target_link_libraries(${Name} ${PROGRAM} razorqt ${QT_QTCORE_LIBRARY} ${QT_QTGUI_LIBRARY} ${LIBRARIES})
 
     install(TARGETS ${Name} DESTINATION ${PLUGIN_DIR})
     install(FILES ${CONFIG_FILES}  DESTINATION ${PLUGIN_SHARE_DIR})
--- origsrc/razorqt-0.4.1/razorqt-panel/panel/CMakeLists.txt	2012-02-13 07:51:42.000000000 -0600
+++ src/razorqt-0.4.1/razorqt-panel/panel/CMakeLists.txt	2012-08-07 23:55:32.698846600 -0500
@@ -100,6 +100,7 @@ message(STATUS "Panel plugins location:
 
 add_executable(${PROJECT} ${HEADERS} ${SOURCES} ${MOC_SOURCES} ${QM_FILES} ${QRC_SOURCES} ${UI_HEADERS})
 target_link_libraries(${PROJECT} ${LIBRARIES} ${QT_LIBRARIES})
+set_target_properties(${PROJECT} PROPERTIES ENABLE_EXPORTS ON)
 
 install(TARGETS ${PROJECT} RUNTIME DESTINATION bin)
 install(FILES   ${CONFIG_FILES}    DESTINATION share/razor/razor-panel/)
